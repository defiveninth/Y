<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Регистрация пользователя</title>
<style>
    body { 
    font-family: Arial, sans-serif; 
    padding: 20px; 
    background: #ffe4ec; /* Цвет фона как у сайта */
    color: #333;
  }

  form { 
    background: #fff; 
    padding: 20px; 
    border-radius: 10px; 
    max-width: 600px; 
    margin: 80px auto; /* отступ сверху, чтобы не перекрывался fixed header */
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }

  input, textarea { 
    width: 100%; 
    padding: 10px; 
    margin: 10px 0; 
    border: 1px solid #ccc;
    border-radius: 5px;
  }

  .error { 
    color: red; 
    font-size: 14px; 
  }

  label { 
    font-weight: bold; 
  }

  button { 
    padding: 10px 20px; 
    font-size: 16px; 
    cursor: pointer; 
    background-color: #dc3545; /* красная кнопка как на сайте */
    color: #fff;
    border: none;
    border-radius: 50px;
    transition: background-color 0.3s;
    
  }

  button:hover {
    background-color: #b02a37;
  }

  h2 {
    text-align: center;
    color: #dc3545;
  }
</style>

</head>
<body>

<h2>Регистрация пользователя</h2>

<form id="registrationForm" enctype="multipart/form-data">
    <label for="username">Имя пользователя:</label>
    <input type="text" id="username" name="username" required>
    <div id="usernameError" class="error"></div>

    <label for="password">Пароль:</label>
    <input type="password" id="password" name="password" required>

    <label for="confirmPassword">Подтвердите пароль:</label>
    <input type="password" id="confirmPassword" name="confirmPassword" required>
    <div id="passwordError" class="error"></div>

    <label for="birthYear">Год рождения:</label>
    <input type="number" id="birthYear" name="birthYear" required>
    <div id="ageError" class="error"></div>

    <label for="photo">Загрузите фотографию:</label>
    <input type="file" id="photo" name="photo" accept="image/*" required>
    <div id="photoError" class="error"></div>

    <label for="about">О себе (не менее 30 слов):</label>
    <textarea id="about" name="about" rows="6" required></textarea>
    <div id="aboutError" class="error"></div>

    <button type="submit">Зарегистрироваться</button>
</form>

<script>
document.getElementById('registrationForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Очистка ошибок
    document.getElementById('usernameError').textContent = '';
    document.getElementById('passwordError').textContent = '';
    document.getElementById('ageError').textContent = '';
    document.getElementById('photoError').textContent = '';
    document.getElementById('aboutError').textContent = '';

    let valid = true;

    // Проверка имени пользователя
    const username = document.getElementById('username').value.trim();
    if (username.length < 2) {
        document.getElementById('usernameError').textContent = 'Имя пользователя должно быть не менее 2 символов.';
        valid = false;
    }

    // Проверка пароля
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    if (password !== confirmPassword) {
        document.getElementById('passwordError').textContent = 'Пароли не совпадают.';
        valid = false;
    }

    // Проверка возраста
    const birthYear = parseInt(document.getElementById('birthYear').value, 10);
    const currentYear = new Date().getFullYear();
    if (isNaN(birthYear) || (currentYear - birthYear) < 18) {
        document.getElementById('ageError').textContent = 'Вам должно быть больше 18 лет.';
        valid = false;
    }

    // Проверка загрузки фотографии
    const photo = document.getElementById('photo').files[0];
    if (!photo) {
        document.getElementById('photoError').textContent = 'Вы должны загрузить фотографию.';
        valid = false;
    }

    // Проверка информации о себе (не менее 30 слов)
    const about = document.getElementById('about').value.trim();
    const wordCount = about
    .replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, '') // убираем знаки препинания
    .split(/\s+/)
    .filter(word => word.length > 0).length;

    if (wordCount < 30) {
    document.getElementById('aboutError').textContent = 'Информация о себе должна содержать не менее 30 слов.';
    valid = false;
    } else {
    document.getElementById('aboutError').textContent = '';
    }


    if (valid) {
        alert('Регистрация прошла успешно!');
        document.getElementById('registrationForm').reset();
    }
});
</script>

</body>
</html>
